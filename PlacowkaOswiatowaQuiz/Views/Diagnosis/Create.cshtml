@model CreateDiagnosisViewModel
@{ViewData["Title"] = "Nowa diagnoza";}

<fieldset class="border p-2">
    <legend class="w-auto">
        <b>Nowy formularz diagnozy</b>
    </legend>
    <div id="divAlertArea">
        <partial name="~/Views/UIComponents/_bootstrapAlert.cshtml" />
    </div>
    <div asp-validation-summary="All" class="text-danger container-flex md-2 mb-3">
        <span>Popraw następujące błędy i spróbuj ponownie:</span>
    </div>
    <form method="post" asp-controller="Diagnosis" asp-action="Create">
        <div class="container-fluid">
            <div class="row mb-3">
                <label asp-for="@Model.SchoolYear" class="col-sm-2 form-label"></label>
                <div class="col-sm-8">
                    <input asp-for="@Model.SchoolYear" type="text" class="form-control"
                           placeholder="np.: 2022/2023">
                </div>
            </div>
            <div class="row mb-3">
                <label asp-for="@Model.EmployeeId" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <select asp-for="@Model.EmployeeId" class="form-control" id="employeesDropdown"
                            currentEmployeeId="@Model?.EmployeeId">
                        <option disabled selected>Wybierz prowadzącego nauczyciela...</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label asp-for="@Model.StudentId" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <select asp-for="@Model.StudentId" class="form-control" id="studentsDropdown"
                            currentStudentId="@Model?.StudentId">
                        <option disabled selected>Wybierz ucznia...</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <label asp-for="@Model.DifficultyId" class="col-sm-2 control-label"></label>
                <div class="col-sm-10">
                    <select asp-for="@Model.DifficultyId" class="form-control" id="difficultiesDropdown"
                            currentDifficultyId="@Model?.DifficultyId">
                        <option disabled selected>Wybierz skalę trudności...</option>
                    </select>
                </div>
            </div>
            <div class="d-grid gap-2 col-6 mx-auto">
                <button class="btn btn-success" type="submit">Utwórz</button>
                <a class="btn btn-outline-secondary" type="button" asp-controller="Diagnosis"
                   asp-action="Index">Powrót do listy</a>
            </div>
        </div>
    </form>
</fieldset>

<script src="~/js/FetchCreateDiagnosisData.js"></script>
